TARGETS=udpipe.html online.html install.html models.html user.html api_reference.html
all: $(TARGETS)

refresh:
	$(MAKE) -C ../../doc/ web

udpipe.html: refresh
	sed -e '1rwarning.hdr' -e '1,/<body>/d; /<div class="header"/,/<\/div/d; /^<!-- html code generated by txt2tags/,$$ d' ../../doc/web.html >$@

online.html install.html models.html user.html api_reference.html:%: refresh
	sed -e '1rwarning.hdr' -e '1,/<body>/d; /^<!-- html code generated by txt2tags/,$$ d' ../../doc/web_$@ >$@
	sed 's#<table border="1">#<table class="table table-hover table-condensed">#' -i $@
	sed 's#<h1>UDPipe#<h1>UDPipe 1#' -i $@

install: $(TARGETS)
	scp $(TARGETS) ufal:public_html/udpipe/1/

.PHONY: clean
clean:
	rm -f $(TARGETS)
